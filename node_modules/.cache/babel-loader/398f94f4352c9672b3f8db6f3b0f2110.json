{"remainingRequest":"D:\\git-code\\vue_shop\\node_modules\\babel-loader\\lib\\index.js!D:\\git-code\\vue_shop\\src\\router\\router.js","dependencies":[{"path":"D:\\git-code\\vue_shop\\src\\router\\router.js","mtime":1589987522891},{"path":"D:\\git-code\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1589679208524},{"path":"D:\\git-code\\vue_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1589679265885}],"contextDependencies":[],"result":["import vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Login from \"../components/Login.vue\";\nimport Home from \"../components/Home.vue\";\nvue.use(VueRouter);\nvar routes = new VueRouter({\n  routes: [{\n    path: '/',\n    redirect: '/login'\n  }, {\n    path: '/login',\n    component: Login\n  }, {\n    path: '/home',\n    component: Home\n  }]\n});\n/**\r\n * 路由导航首位\r\n */\n\nroutes.beforeEach(function (to, from, next) {\n  //to 将要访问的路径\n  //from 代表从哪个路径来的\n  //next 是一个函数，表示放行\n  if (to.path === '/login') return next();\n  var token = window.sessionStorage.getItem('token');\n  if (!token) return next(\"/login\");\n  next();\n});\nexport default routes;",{"version":3,"sources":["D:\\git-code\\vue_shop\\src\\router\\router.js"],"names":["vue","VueRouter","Login","Home","use","routes","path","redirect","component","beforeEach","to","from","next","token","window","sessionStorage","getItem"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP;AACA,OAAOC,IAAP;AAEAH,GAAG,CAACI,GAAJ,CAAQH,SAAR;AAEA,IAAMI,MAAM,GAAG,IAAIJ,SAAJ,CAAc;AACzBI,EAAAA,MAAM,EAAC,CACH;AACIC,IAAAA,IAAI,EAAC,GADT;AAEIC,IAAAA,QAAQ,EAAC;AAFb,GADG,EAKH;AACID,IAAAA,IAAI,EAAC,QADT;AAEIE,IAAAA,SAAS,EAACN;AAFd,GALG,EASH;AACII,IAAAA,IAAI,EAAC,OADT;AAEIE,IAAAA,SAAS,EAACL;AAFd,GATG;AADkB,CAAd,CAAf;AAiBA;;;;AAGAE,MAAM,CAACI,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC;AACA;AACA;AAEA,MAAGF,EAAE,CAACJ,IAAH,KAAY,QAAf,EAAyB,OAAOM,IAAI,EAAX;AACzB,MAAMC,KAAK,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAd;AACA,MAAG,CAACH,KAAJ,EAAW,OAAOD,IAAI,CAAC,QAAD,CAAX;AACXA,EAAAA,IAAI;AACP,CATD;AAWA,eAAeP,MAAf","sourcesContent":["import vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Login from '../components/Login.vue'\r\nimport Home from '../components/Home.vue'\r\n\r\nvue.use(VueRouter)\r\n\r\nconst routes = new VueRouter({\r\n    routes:[\r\n        {\r\n            path:'/',\r\n            redirect:'/login'\r\n        },\r\n        {\r\n            path:'/login',\r\n            component:Login\r\n        },\r\n        {\r\n            path:'/home',\r\n            component:Home\r\n        }\r\n    ]\r\n})\r\n\r\n/**\r\n * 路由导航首位\r\n */\r\nroutes.beforeEach((to, from, next) => {\r\n    //to 将要访问的路径\r\n    //from 代表从哪个路径来的\r\n    //next 是一个函数，表示放行\r\n\r\n    if(to.path === '/login') return next()\r\n    const token = window.sessionStorage.getItem('token')\r\n    if(!token) return next(\"/login\")\r\n    next()\r\n})\r\n\r\nexport default routes;"]}]}